<!DOCTYPE html>
<html>
	<head>
		<title>RIME</title>
		<meta charset="UTF-8">
		<meta name="description" content="Image metadata reader and remover.">
		<meta name="keywords" content="jpeg, exif, metadata, image">
		<meta name="author" content="Miku AuahDark">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/material-components-web@14.0.0/dist/material-components-web.min.css" integrity="sha256-YPguGDqg55HB8+tbrJBbWuiF9J+XCK7sjscaiwFMTxI=" crossorigin="anonymous">
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<script src="https://cdn.jsdelivr.net/npm/material-components-web@14.0.0/dist/material-components-web.min.js" integrity="sha256-8DHMt+TYs1kVcO+R+oZYTrHYIYwHUOChiQsqKb2BT3g=" crossorigin="anonymous"></script>
		<script type="module" src="index.mjs"></script>
		<style>
			:root {
				--output-image-max-height: 420px;
			}

			#input_area {
				width: 100%;
				max-height: var(--output-image-max-height);
				display: grid;
				grid-template-columns: 1fr;
				grid-template-rows: 1fr;
				cursor: pointer;
			}

			#input_area * {
				pointer-events: none;
			}

			.input_area_container {
				width: 100%;
				max-height: var(--output-image-max-height);
				display: flex;
				align-items: center;
				justify-content: center;
				text-align: center;
				grid-column: 1;
				grid-row: 1;
			}

			footer {
				margin: 16px;
				display: flex;
				align-items: center;
				justify-content: center;
				text-align: center;
				color: #606060;
			}

			#metadata_info_list {
				margin-top: 1em;
			}

			.rime_container {
				max-width: 1200px;
				margin-left: auto;
				margin-right: auto;
				padding: 16px;
			}

			tr.rime_select_disabled .mdc-data-table__cell:not(.mdc-data-table__cell--checkbox) {
				color: #606060;
			}

			#rime_image_container {
				max-height: var(--output-image-max-height);
				margin: 1em auto 1em auto;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			#rime_image_container img, #input_area img {
				max-width: 100%;
				max-height: inherit;
			}

			.wide_button {
				width: 100%;
			}
		</style>
	</head>
	<body class="mdc-typography" style="margin: 0px">
		<header class="mdc-top-app-bar">
			<div class="mdc-top-app-bar__row">
				<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
					<h1 class="mdc-top-app-bar__title">RIME</h1>
				</section>
				<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end">
					<button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="About">
						info_outline
					</button>
				</section>
			</div>
		</header>
		<main class="mdc-top-app-bar--fixed-adjust">
			<section class="rime_container">
				<h2 class="mdc-typography--headline4">Input Image</h2>
				<div id="input_area" class="mdc-ripple-surface mdc-elevation--z1">
					<div class="input_area_container" style="z-index: 0">
						<!-- Non-dragged: filter: opacity(100%) blur(0px); -->
						<!-- Dragged: filter: opacity(25%) blur(2px); -->
						<img id="input_image" style="filter: opacity(100%) blur(0px);" src="">
					</div>
					<!-- If there's image already: -->
					<!-- Non-dragged: visibility: hidden; -->
					<!-- Dragged: visibility: visible; -->
					<!-- Else: height: 300px; visibility: visible; -->
					<div id="input_area_info" class="input_area_container" style="height: 300px; visibility: visible; z-index: 1">
						<span class="material-icons">file_open</span>&nbsp;Drag and drop or click here to select image.
					</div>
				</div>
				<input id="input_file" type="file" accept="image/jpeg" hidden>
			</section>
			<a id="download_clicker" style="display: none"></a>
			<!-- If no state: display: none; -->
			<!-- Else: display: block; -->
			<section id="metadata_info_list" class="rime_container" style="display: none">
				<!-- .rime_buttons must appear in the order in the index.mjs -->
				<div class="mdc-layout-grid">
					<div class="mdc-layout-grid__inner rime_buttons">
						<button class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-button mdc-button--outlined">
							<span class="mdc-button__ripple"></span>
							<span class="mdc-button__label">Export to CSV</span>
						</button>
						<button class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-button mdc-button--outlined">
							<span class="mdc-button__ripple"></span>
							<span class="mdc-button__label">Clear Selection</span>
						</button>
						<button class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-button mdc-button--outlined">
							<span class="mdc-button__ripple"></span>
							<span class="mdc-button__label">Select Recommended</span>
						</button>
						<button class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-button mdc-button--outlined">
							<span class="mdc-button__ripple"></span>
							<span class="mdc-button__label">Select All</span>
						</button>
					</div>
				</div>
				<!-- Metadata list -->
				<div id="metadata_list_table" class="mdc-data-table" style="width: 100%">
					<div class="mdc-data-table__table-container">
						<table class="mdc-data-table__table" aria-label="Dessert calories">
							<thead>
								<tr class="mdc-data-table__header-row">
									<th class="mdc-data-table__header-cell mdc-data-table__header-cell--checkbox" role="columnheader" scope="col">
										<div class="mdc-checkbox mdc-data-table__header-row-checkbox mdc-checkbox--selected">
											<input type="checkbox" class="mdc-checkbox__native-control" aria-label="Toggle all rows">
											<div class="mdc-checkbox__background">
												<svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
													<path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59" />
												</svg>
												<div class="mdc-checkbox__mixedmark"></div>
											</div>
											<div class="mdc-checkbox__ripple"></div>
										</div>
									</th>
									<th class="mdc-data-table__header-cell" role="columnheader" scope="col">Metadata Name</th>
									<th class="mdc-data-table__header-cell" role="columnheader" scope="col">Metadata Value</th>
								</tr>
							</thead>
							<tbody class="mdc-data-table__content" id="metadata_list">
								<!-- Auto-generated through JavaScript -->
							</tbody>
						</table>
					</div>
				</div>
				<div class="mdc-layout-grid">
					<div class="mdc-layout-grid__inner rime_buttons">
						<button class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-button mdc-button--outlined">
							<span class="mdc-button__ripple"></span>
							<span class="mdc-button__label">Export to CSV</span>
						</button>
						<button class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-button mdc-button--outlined">
							<span class="mdc-button__ripple"></span>
							<span class="mdc-button__label">Clear Selection</span>
						</button>
						<button class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-button mdc-button--outlined">
							<span class="mdc-button__ripple"></span>
							<span class="mdc-button__label">Select Recommended</span>
						</button>
						<button class="mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-button mdc-button--outlined">
							<span class="mdc-button__ripple"></span>
							<span class="mdc-button__label">Select All</span>
						</button>
					</div>
				</div>
				<button id="remove_metadata" class="mdc-button mdc-button--raised wide_button">
					<span class="mdc-button__ripple"></span>
					<i class="material-icons mdc-button__icon" aria-hidden="true">delete_forever</i>
					<span class="mdc-button__label">Remove Selected Metadata</span>
				</button>
			</section>
			<!-- If no output: display: none; -->
			<!-- Else: display: block; -->
			<section id="image_result" class="rime_container" style="display: none">
				<h2 class="mdc-typography--headline4">Output Image</h2>
				<div id="rime_image_container">
					<img id="output_image" class="mdc-elevation--z4" src="">
				</div>
				<button id="download_image" class="mdc-button mdc-button--raised wide_button">
					<span class="mdc-button__ripple"></span>
					<i class="material-icons mdc-button__icon" aria-hidden="true">download</i>
					<span class="mdc-button__label">Save New Image</span>
				</button>
			</section>
		</main>
		<aside id="error_alert" class="mdc-snackbar">
			<div class="mdc-snackbar__surface" role="status" aria-relevant="additions">
				<div class="mdc-snackbar__label" aria-atomic="false"></div>
				<div class="mdc-snackbar__actions" aria-atomic="true">
					<button class="mdc-icon-button mdc-snackbar__dismiss material-icons" title="Dismiss">
						close
					</button>
				</div>
			</div>
		</aside>
		<footer>
			<div class="rime_container">
				<p>This software is provided without warranty whatsover.</p>
			</div>
		</footer>
	</body>
</html>
